

we allocate rooms

we make lists with pointer to the rooms

the rooms should be freed only at the end

the list links can be freed any time

